(this["webpackJsonpnetflix-clone"]=this["webpackJsonpnetflix-clone"]||[]).push([[0],{108:function(e,t,a){},109:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(29),l=a.n(c),o=(a(81),a(82),a(13)),i=a.n(o),s=a(23),m=a(22),u=(a(84),a(31)),d=a(21),p=a.n(d),f=a(139),E=a(9),b={BASE_URL_S3:"https://upload-images.s3-ap-northeast-1.amazonaws.com/"};var h={addItemToCart:function(e){return function(t){t({type:"ADD_TO_CART",payload:e})}}},g=Object(u.b)((function(e){return e}),h)((function(e){var t=e.addItemToCart,a=Object(n.useState)([]),c=Object(m.a)(a,2),l=c[0],o=c[1],u=Object(E.g)(),d=Object(E.h)(),h=function(){var e=Object(s.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p()({method:"POST",url:"https://ukwsvt85ug.execute-api.ap-northeast-1.amazonaws.com/dev/Add_To_Cart",data:JSON.stringify(a.productId)});case 2:200===e.sent.status&&t(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=l.map((function(e){return r.a.createElement("div",{className:"card",key:e.productId},r.a.createElement("div",{className:"card-image"},r.a.createElement("img",{src:"".concat(b.BASE_URL_S3).concat(e.img),alt:e.name}),r.a.createElement("span",{className:"card-name"},e.name)),r.a.createElement("div",{className:"card-content"},r.a.createElement("p",null,e.description),r.a.createElement("p",null,r.a.createElement("b",null,"Price: ",e.price)),r.a.createElement("span",{onClick:function(){return h(e)}},"Add to cart",r.a.createElement("i",{className:"fas fa-plus-circle add-to-cart"}))))}));return Object(n.useEffect)((function(){function e(){return(e=Object(s.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p()({method:"GET",url:"https://ukwsvt85ug.execute-api.ap-northeast-1.amazonaws.com/dev/Get_All_Products"});case 2:t=e.sent,a=t.data.data,o(a.Items);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement("div",null,r.a.createElement("div",{className:"above"},r.a.createElement("h3",null,"Our items"),r.a.createElement(f.a,{className:"above__button",onClick:function(){u.push("".concat(d.path,"/create"))},variant:"primary",style:{float:"right",marginRight:20}},"Create new product")),r.a.createElement("div",{className:"box"},g))}));var v=function(e){return e.items,r.a.createElement("div",null,r.a.createElement("div",{className:"app"},r.a.createElement(g,null)))};var y=function(){return r.a.createElement("div",null,r.a.createElement(v,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var O=a(124),w=a(8),j=a(126),x=a(127),k=a(110),C=a(128),N=a(129),S=a(130),I=a(131),R=Object(O.a)((function(e){return{table:{minWidth:500},root:{"& > *":{margin:e.spacing(1)}},button:{float:"right",marginRight:50}}})),A=Object(w.a)((function(e){return{head:{backgroundColor:e.palette.common.white,color:e.palette.common.black},body:{fontSize:18}}}))(j.a),_=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],c=t[1],l=Object(E.g)(),o=Object(E.h)(),u=R(),d=function(){var e=Object(s.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={postId:t.id,createdAt:t.createdAt},e.next=3,p()({method:"POST",url:"https://ukwsvt85ug.execute-api.ap-northeast-1.amazonaws.com/api/Delete_Post",data:JSON.stringify(a)});case 3:n=e.sent,console.log(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){function e(){return(e=Object(s.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("https://ukwsvt85ug.execute-api.ap-northeast-1.amazonaws.com/dev/Get_All_Post");case 2:t=e.sent,a=t.data.data,c(a.Items);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement("div",{className:u.root},r.a.createElement("h1",null,"List Posts"),r.a.createElement(f.a,{variant:"primary",style:{float:"right",marginRight:20},onClick:function(){l.push("".concat(o.path,"/add"))}},"Add a new post"),r.a.createElement(x.a,{component:k.a},r.a.createElement(C.a,{className:u.table,"aria-label":"customized table"},r.a.createElement(N.a,null,r.a.createElement(S.a,null,r.a.createElement(A,{width:200,align:"center"},"Id"),r.a.createElement(A,{align:"center"},"Title"),r.a.createElement(A,{align:"center"},"Body"),r.a.createElement(A,{align:"center"},"UserId"),r.a.createElement(A,{align:"center"},"CreatedAt"),r.a.createElement(A,{align:"center"},"Action"))),r.a.createElement(I.a,null,a.map((function(e){return r.a.createElement(S.a,{key:e.id},r.a.createElement(A,{align:"center"},e.id),r.a.createElement(A,{align:"center"},e.title),r.a.createElement(A,{align:"center"},e.body),r.a.createElement(A,{align:"center"},e.userId),r.a.createElement(A,{align:"center"},e.createdAt),r.a.createElement(A,{align:"center"},r.a.createElement(f.a,{style:{marginRight:5},variant:"info"},r.a.createElement("i",{className:"fa fa-edit"}),"Edit"),r.a.createElement(f.a,{onClick:function(){return d(e)},variant:"secondary"},r.a.createElement("i",{className:"fa fa-trash-alt"}),"Delete")))}))))))},D=a(26),P=a(132),T=a(133),B=a(138),L=a(134),z=Object(O.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),U=Object(u.b)((function(e){return{total:e.total}}),{})((function(e){var t=e.total,a=z(),n=Object(E.g)();return r.a.createElement("div",{className:a.root},r.a.createElement(P.a,{position:"static"},r.a.createElement(T.a,null,r.a.createElement(B.a,{edge:"start",className:a.menuButton,color:"inherit","aria-label":"menu"}),r.a.createElement(L.a,{variant:"h6",className:a.title},r.a.createElement(D.b,{to:"/products",style:{marginRight:20,color:"white",textDecoration:"none"}},"Products"),r.a.createElement(D.b,{to:"/posts",style:{color:"white",textDecoration:"none"}},"List Posts")),r.a.createElement(f.a,{color:"inherit",style:{marginRight:5},onClick:function(){n.push("/carts")}},t,r.a.createElement("i",{className:"fas fa-shopping-cart"}),"My Cart"),r.a.createElement(f.a,{color:"inherit"},"Login"))))})),G=a(137);function J(e){var t=e.field,a=e.type,n=e.label,c=e.placeholder,l=e.isDisable,o=t.name,i=t.value,s=t.onChange,m=t.onBlur;return r.a.createElement(G.a.Group,{controlId:"formBasicEmail"},n&&r.a.createElement(G.a.Label,null,n),r.a.createElement(G.a.Control,{type:a,name:o,value:i,onChange:s,onBlur:m,placeholder:c,disabled:l}))}J.defaultProps={type:"text",label:"",placeholder:"",isDisable:!1};var W=a(19),M=a(135),F=a(136),V=a(66);a(108);var $=Object(u.b)((function(e){return{addedCarts:e.addedItems}}),{})((function(e){var t=e.addedCarts.map((function(e){return r.a.createElement("div",{className:"card",key:e.productId},r.a.createElement("div",{className:"card-image"},r.a.createElement("img",{src:"".concat(b.BASE_URL_S3).concat(e.img),alt:e.name}),r.a.createElement("span",{className:"card-name"},e.name)),r.a.createElement("div",{className:"card-content"},r.a.createElement("p",null,e.description),r.a.createElement("p",null,r.a.createElement("b",null,"Price: ",e.price,"$")),r.a.createElement("span",null,r.a.createElement("p",null,"Amount: ",e.count))))}));return r.a.createElement(F.a,null,r.a.createElement(V.a,{xs:4},r.a.createElement("div",{className:"list-cart"},r.a.createElement("h3",{className:"center"},"My list items"),r.a.createElement("div",{className:"cart"},t))),r.a.createElement(V.a,{xs:8},r.a.createElement("h1",null,"Go to payment")))})),K=a(25),q=a(71),H={display:"flex",flexDirection:"row",flexWrap:"wrap",marginTop:16},Q={display:"inline-flex",borderRadius:2,border:"1px solid #eaeaea",marginBottom:8,marginRight:8,width:100,height:100,padding:4,boxSizing:"border-box"},X={display:"flex",minWidth:0,overflow:"hidden"},Y={display:"block",width:"auto",height:"100%"},Z={flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out"},ee={borderColor:"#2196f3"},te={borderColor:"#00e676"},ae={borderColor:"#ff1744"};var ne=function(e){var t=Object(n.useState)([]),a=Object(m.a)(t,2),c=a[0],l=a[1],o=e.field,i=e.label,s=o.value,u=Object(q.a)({accept:"image/*",noClick:!0,noKeyboard:!0,onDrop:function(e){l(e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})))}}),d=u.getRootProps,p=u.getInputProps,f=u.isDragActive,E=u.isDragAccept,b=u.isDragReject,h=u.acceptedFiles,g=u.open,v=Object(n.useMemo)((function(){return Object(K.a)(Object(K.a)(Object(K.a)(Object(K.a)({},Z),f?ee:{}),E?te:{}),b?ae:{})}),[f,b,E]),y=c.map((function(e){return r.a.createElement("div",{style:Q,key:e.name},r.a.createElement("div",{style:X},r.a.createElement("img",{src:e.preview,style:Y,alt:e.name})))}));Object(n.useEffect)((function(){return function(){c.forEach((function(e){return URL.revokeObjectURL(e.preview)}))}}),[c]);for(var O=0;O<h.length;O++)null==h[O]||s.includes(h[O])||s.push(h[O]);return r.a.createElement(G.a.Group,{controlId:"formBasicEmail"},i&&r.a.createElement(G.a.Label,null,i),r.a.createElement("div",d({style:v}),r.a.createElement(G.a.Control,p()),r.a.createElement("p",null,"Drag 'n' drop some images here"),r.a.createElement("button",{type:"button",onClick:g},"Open File Dialog")),r.a.createElement("aside",{style:H},y))};var re=function(){var e=Object(n.useState)(!1),t=Object(m.a)(e,2),a=t[0],c=t[1],l=function(){var e=Object(s.a)(i.a.mark((function e(t){var a,n,r,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={name:t.name,description:t.description,price:t.price,imgs:t.imgs.map((function(e){return e.name}))},e.next=3,p()({method:"POST",url:"https://ukwsvt85ug.execute-api.ap-northeast-1.amazonaws.com/dev/Create_Product",data:JSON.stringify(a)});case 3:return n=e.sent,e.next=6,n.data.uploadInfo.body;case 6:if(e.t0=e.sent,e.t0){e.next=9;break}e.t0=null;case 9:return r=e.t0,l=r.uploadURL,console.log(l),e.next=14,p()({method:"PUT",url:l,data:t.imgs[0],headers:{"Content-Type":"multipart/form-data"}});case 14:200===e.sent.status&&c(!0);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){c(!0)};return a?r.a.createElement(E.a,{to:"/products"}):r.a.createElement(M.a,null,r.a.createElement(F.a,{className:"justify-content-md-center"},r.a.createElement(V.a,{xs:6},r.a.createElement("h1",null,"Create a new product"),r.a.createElement(W.c,{initialValues:{name:"",description:"",price:0,imgs:[]},onSubmit:function(e){l(e)}},(function(e){return r.a.createElement(W.b,null,r.a.createElement(W.a,{name:"name",component:J,label:"Name",placeholder:"Enter name"}),r.a.createElement(W.a,{name:"description",component:J,label:"Description",placeholder:"Enter description"}),r.a.createElement(W.a,{type:"number",name:"price",component:J,label:"Price",placeholder:"Enter price"}),r.a.createElement(W.a,{name:"imgs",component:ne,label:"Image"}),r.a.createElement("div",{style:{margin:20}},r.a.createElement(f.a,{onClick:o,style:{marginRight:5},variant:"warning"},"Cancel"),r.a.createElement(f.a,{type:"submit",variant:"success"},"Save")))})))))},ce=a(36),le=a(70),oe={addedItems:[],total:0},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART":var a=t.payload;a.count+=1;var n=e.addedItems.find((function(e){return e.productId===a.productId}));if(n)return n.count++,Object(K.a)(Object(K.a)({},e),{},{total:e.total+=1});var r=e.addedItems;return r.push(a),Object(K.a)(Object(K.a)({},e),{},{addedItems:r,total:e.total+=1});default:return e}},se=Object(ce.c)(ie,Object(ce.a)(le.a));l.a.render(r.a.createElement(u.a,{store:se},r.a.createElement(D.a,null,r.a.createElement(U,null),r.a.createElement(E.d,null,r.a.createElement(E.b,{exact:!0,path:"/products",component:y}),r.a.createElement(E.b,{exact:!0,path:"/posts",component:_}),r.a.createElement(E.b,{path:"/posts/add",component:function(e){var t=Object(n.useState)(!1),a=Object(m.a)(t,2),c=a[0],l=a[1],o=function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p()({method:"POST",url:"https://ukwsvt85ug.execute-api.ap-northeast-1.amazonaws.com/api/posts",data:JSON.stringify(t)});case 2:200===e.sent.status&&l(!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){l(!0)};return c?r.a.createElement(E.a,{to:"/posts"}):r.a.createElement(M.a,null,r.a.createElement(F.a,{className:"justify-content-md-center"},r.a.createElement(V.a,{xs:6},r.a.createElement("h1",null,"Create a new post"),r.a.createElement(W.c,{initialValues:{title:"",body:""},onSubmit:function(e){o(e)}},(function(e){return r.a.createElement(W.b,null,r.a.createElement(W.a,{name:"title",component:J,label:"Title",placeholder:"Enter title"}),r.a.createElement(W.a,{name:"body",component:J,label:"Body",placeholder:"Enter body"}),r.a.createElement(f.a,{onClick:u,style:{marginRight:5},variant:"warning"},"Cancel"),r.a.createElement(f.a,{type:"submit",variant:"success"},"Save"))})))))}}),r.a.createElement(E.b,{path:"/carts",component:$}),r.a.createElement(E.b,{path:"/products/create",component:re}),r.a.createElement(E.a,{from:"/",to:"/products"})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},76:function(e,t,a){e.exports=a(109)},81:function(e,t,a){},82:function(e,t,a){},84:function(e,t,a){}},[[76,1,2]]]);
//# sourceMappingURL=main.1a8c6b09.chunk.js.map